---
# The institution that created the lab. Alphanumeric. Required.
institution: udelar

# The name of the lab. Must be alphanumeric. Required.
lab_name: moodle_demo

# The default operating system to use for guests. Must be one of
# ubuntu22, rocky8, kali or windows_srv_2022. 
# Optional, default: ubuntu22.
default_os: ubuntu22

# Guest machines of the scenario
guest_settings:

  # Student workstation - entry point for trainees
  student_workstation:
    # Whether the trainees can access the machine through SSH or RDP.
    entry_point: yes
    # Amount of RAM of the machine, in MB. Default: 1024.
    memory: 2048
    # Number of virtual CPUs of the machine. Default: 1.
    vcpu: 2
    # Amount of disk of the machine, in GB. Default: 10.
    disk: 15
    # The operating system of the guest
    base_os: ubuntu22
    # Whether the guest has internet access
    internet_access: yes
    # The number of copies of this guest to deploy in each instance.
    copies: 1
    # Whether to monitor this guest using Elastic Security.
    monitor: no

  # Lab server for hands-on exercises
  lab_server:
    memory: 1024
    vcpu: 1
    disk: 10
    base_os: ubuntu22
    internet_access: no
    monitor: no

# Scenario network definition
topology:
  # One network named lab_network with both machines connected
  - name: lab_network
    members:
      - student_workstation
      - lab_server

moodle_settings:
  enable: yes
  moosh_commands:
    - 'course-create --category=1 --fullname="Introduction to Cybersecurity" --shortname=CYBER101 --visible=1'
    - 'user-create --password=Changeme123! --firstname=Alice --lastname=Student --email=alice@example.com student01'
    - 'user-create --password=Changeme123! --firstname=Bob --lastname=Student --email=bob@example.com student02'
    - 'course-enrol -r student 2 student01'
    - 'course-enrol -r student 2 student02'

# Elastic service configuration (optional)
elastic_settings:
  enable: no

# Caldera service configuration (optional)
caldera_settings:
  enable: no

# Guacamole service configuration (optional)
guacamole_settings:
  enable: no

